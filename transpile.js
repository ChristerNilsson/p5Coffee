// Generated by CoffeeScript 1.11.1
var clean, spacesToTabs, transpile;

spacesToTabs = function(line) {
  if (line.indexOf('  ') === 0) {
    return '\t' + spacesToTabs(line.substring(2));
  }
  if (line.indexOf('\t') === 0) {
    return '\t' + spacesToTabs(line.substring(1));
  }
  if (line.indexOf(' \t') === 0) {
    return '\t' + spacesToTabs(line.substring(2));
  }
  return line;
};

clean = function(s) {
  var pos;
  s = s.split(' ').join("");
  s = s.split('\t').join("");
  pos = s.indexOf("#");
  if (pos >= 0) {
    s = s.substr(0, pos);
  }
  return s;
};

transpile = function(code) {
  var i, len, line, lines, temp;
  lines = code.split('\n');
  if (lines[0].indexOf('//ECMA') === 0) {
    return code;
  }
  temp = ['class Student'];
  temp.push('\tsetup : ->');
  temp.push('\tdraw : ->');
  temp.push('\tkeyPressed : ->');
  temp.push('\tmousePressed : ->');
  for (i = 0, len = lines.length; i < len; i++) {
    line = lines[i];
    line = "\t" + spacesToTabs(line);
    if (clean(line).length > 0) {
      temp.push(line);
    }
  }
  temp.push("@xstudent = new Student()");
  code = temp.join('\n');
  return CoffeeScript.compile(code, {
    bare: true
  });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNwaWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsidHJhbnNwaWxlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQTs7QUFBQSxZQUFBLEdBQWUsU0FBQyxJQUFEO0VBQ2IsSUFBRyxJQUFJLENBQUMsT0FBTCxDQUFhLElBQWIsQ0FBQSxLQUFvQixDQUF2QjtBQUNFLFdBQU8sSUFBQSxHQUFPLFlBQUEsQ0FBYSxJQUFJLENBQUMsU0FBTCxDQUFlLENBQWYsQ0FBYixFQURoQjs7RUFFQSxJQUFHLElBQUksQ0FBQyxPQUFMLENBQWEsSUFBYixDQUFBLEtBQW9CLENBQXZCO0FBQ0UsV0FBTyxJQUFBLEdBQU8sWUFBQSxDQUFhLElBQUksQ0FBQyxTQUFMLENBQWUsQ0FBZixDQUFiLEVBRGhCOztFQUVBLElBQUcsSUFBSSxDQUFDLE9BQUwsQ0FBYSxLQUFiLENBQUEsS0FBcUIsQ0FBeEI7QUFDRSxXQUFPLElBQUEsR0FBTyxZQUFBLENBQWEsSUFBSSxDQUFDLFNBQUwsQ0FBZSxDQUFmLENBQWIsRUFEaEI7O1NBRUE7QUFQYTs7QUFVZixLQUFBLEdBQVEsU0FBQyxDQUFEO0FBQ04sTUFBQTtFQUFBLENBQUEsR0FBSSxDQUFDLENBQUMsS0FBRixDQUFRLEdBQVIsQ0FBWSxDQUFDLElBQWIsQ0FBa0IsRUFBbEI7RUFDSixDQUFBLEdBQUksQ0FBQyxDQUFDLEtBQUYsQ0FBUSxJQUFSLENBQWEsQ0FBQyxJQUFkLENBQW1CLEVBQW5CO0VBQ0osR0FBQSxHQUFNLENBQUMsQ0FBQyxPQUFGLENBQVUsR0FBVjtFQUNOLElBQUcsR0FBQSxJQUFLLENBQVI7SUFDRSxDQUFBLEdBQUksQ0FBQyxDQUFDLE1BQUYsQ0FBUyxDQUFULEVBQVcsR0FBWCxFQUROOztTQUVBO0FBTk07O0FBUVIsU0FBQSxHQUFZLFNBQUMsSUFBRDtBQUNWLE1BQUE7RUFBQSxLQUFBLEdBQVEsSUFBSSxDQUFDLEtBQUwsQ0FBVyxJQUFYO0VBQ1IsSUFBZSxLQUFNLENBQUEsQ0FBQSxDQUFFLENBQUMsT0FBVCxDQUFpQixRQUFqQixDQUFBLEtBQThCLENBQTdDO0FBQUEsV0FBTyxLQUFQOztFQUNBLElBQUEsR0FBTyxDQUFDLGVBQUQ7RUFDUCxJQUFJLENBQUMsSUFBTCxDQUFVLGNBQVY7RUFDQSxJQUFJLENBQUMsSUFBTCxDQUFVLGFBQVY7RUFDQSxJQUFJLENBQUMsSUFBTCxDQUFVLG1CQUFWO0VBQ0EsSUFBSSxDQUFDLElBQUwsQ0FBVSxxQkFBVjtBQUNBLE9BQUEsdUNBQUE7O0lBQ0UsSUFBQSxHQUFPLElBQUEsR0FBTyxZQUFBLENBQWEsSUFBYjtJQUNkLElBQUcsS0FBQSxDQUFNLElBQU4sQ0FBVyxDQUFDLE1BQVosR0FBcUIsQ0FBeEI7TUFDRSxJQUFJLENBQUMsSUFBTCxDQUFVLElBQVYsRUFERjs7QUFGRjtFQUlBLElBQUksQ0FBQyxJQUFMLENBQVUsMkJBQVY7RUFDQSxJQUFBLEdBQU8sSUFBSSxDQUFDLElBQUwsQ0FBVSxJQUFWO1NBQ1AsWUFBWSxDQUFDLE9BQWIsQ0FBcUIsSUFBckIsRUFBMkI7SUFBRSxJQUFBLEVBQU8sSUFBVDtHQUEzQjtBQWRVIiwic291cmNlc0NvbnRlbnQiOlsic3BhY2VzVG9UYWJzID0gKGxpbmUpIC0+XHJcbiAgaWYgbGluZS5pbmRleE9mKCcgICcpPT0wXHJcbiAgICByZXR1cm4gJ1xcdCcgKyBzcGFjZXNUb1RhYnMgbGluZS5zdWJzdHJpbmcgMlxyXG4gIGlmIGxpbmUuaW5kZXhPZignXFx0Jyk9PTBcclxuICAgIHJldHVybiAnXFx0JyArIHNwYWNlc1RvVGFicyBsaW5lLnN1YnN0cmluZyAxXHJcbiAgaWYgbGluZS5pbmRleE9mKCcgXFx0Jyk9PTBcclxuICAgIHJldHVybiAnXFx0JyArIHNwYWNlc1RvVGFicyBsaW5lLnN1YnN0cmluZyAyXHJcbiAgbGluZVxyXG4gXHJcbiMgdGFyIGJvcnQgYWxsYSBibGFua2EsIHRhYmJhciBvY2gga29tbWVudGFyZXJcclxuY2xlYW4gPSAocykgLT5cclxuICBzID0gcy5zcGxpdCgnICcpLmpvaW4oXCJcIilcclxuICBzID0gcy5zcGxpdCgnXFx0Jykuam9pbihcIlwiKVxyXG4gIHBvcyA9IHMuaW5kZXhPZihcIiNcIilcclxuICBpZiBwb3M+PTBcclxuICAgIHMgPSBzLnN1YnN0ciAwLHBvc1xyXG4gIHNcclxuXHJcbnRyYW5zcGlsZSA9IChjb2RlKSAtPlxyXG4gIGxpbmVzID0gY29kZS5zcGxpdCAnXFxuJ1xyXG4gIHJldHVybiBjb2RlIGlmIGxpbmVzWzBdLmluZGV4T2YoJy8vRUNNQScpID09IDAgXHJcbiAgdGVtcCA9IFsnY2xhc3MgU3R1ZGVudCddXHJcbiAgdGVtcC5wdXNoKCdcXHRzZXR1cCA6IC0+JylcclxuICB0ZW1wLnB1c2goJ1xcdGRyYXcgOiAtPicpXHJcbiAgdGVtcC5wdXNoKCdcXHRrZXlQcmVzc2VkIDogLT4nKVxyXG4gIHRlbXAucHVzaCgnXFx0bW91c2VQcmVzc2VkIDogLT4nKVxyXG4gIGZvciBsaW5lIGluIGxpbmVzXHJcbiAgICBsaW5lID0gXCJcXHRcIiArIHNwYWNlc1RvVGFicyBsaW5lXHJcbiAgICBpZiBjbGVhbihsaW5lKS5sZW5ndGggPiAwIFxyXG4gICAgICB0ZW1wLnB1c2ggbGluZVxyXG4gIHRlbXAucHVzaCBcIkB4c3R1ZGVudCA9IG5ldyBTdHVkZW50KClcIlxyXG4gIGNvZGUgPSB0ZW1wLmpvaW4gJ1xcbidcclxuICBDb2ZmZWVTY3JpcHQuY29tcGlsZSBjb2RlLCB7IGJhcmUgOiB0cnVlIH0iXX0=
//# sourceURL=C:\github\p5Coffee\transpile.coffee